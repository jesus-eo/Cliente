<!-- Actividad 7A05 - Petición POST sobre https://reqres.in/
○ Crea una página que tenga dos campos de texto y un botón “Añadir usuario”.
○ Al pulsar el botón, se debe realizar una llamada asíncrona a https://reqres.in/api/users para crear un nuevo
usuario con los datos proporcionados en los campos de texto mediante un JSON.
○ Este JSON debe contener la clave “first_name” y la clave “last_name”.
○ Debe mostrarse la respuesta del servidor cuando se reciba, incluyendo su código de respuesta y los datos
del nuevo usuario (los mismos que se mostraban en la tabla del ejercicio previo) si se reciben. -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div>
        <p>FirstName:</p>
        <input type="text" name="" id="firstname">
    </div>
   <div>
       <p>LastName:</p>
       <input type="text" name="" id="lastname">
   </div>
   <button id="btn">Añadir usuario</button>
    <script>

document.getElementById('btn').addEventListener('click',function (){
   let nombre = document.getElementById('firstname').value;
   let apellido = document.getElementById('lastname').value;
   anyadirUsuario(nombre, apellido);
});
function anyadirUsuario(nombre, apellido) {
    let xhr = new XMLHttpRequest();
    xhr.onreadystatechange = function(){
        if (this.readyState == 4 && this.status == 201){
           //Convierto en json la request
            let jsonRequest = JSON.parse(this.responseText);
            console.log(jsonRequest);
                /* crearTabla(jsonRequest); */
                           
            }  
        }
        xhr.open("POST","https://reqres.in/api/users",true);
        xhr.setRequestHeader("Content-Type", "application/json");
        xhr.send(`first_name = ${nombre}`, `last_name = ${apellido}`);
    }
    </script>
</body>
</html>